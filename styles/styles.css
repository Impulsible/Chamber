/* ================================
   Root theme + design tokens
================================ */
:root{
  --brand-50:#eef5ff;
  --brand-100:#d9e7ff;
  --brand-200:#b3ceff;
  --brand-300:#8db6ff;
  --brand-400:#669eff;
  --brand-500:#3f80ff; /* primary */
  --brand-600:#2f63cc;
  --brand-700:#244a99;
  --brand-800:#1a3466;
  --brand-900:#112244;

  --accent:#ffb703;
  --danger:#e63946;
  --success:#2a9d8f;

  --bg:#ffffff;
  --surface:#f7f9fc;
  --text:#0f172a;
  --muted:#475569;
  --border:#e2e8f0;
  --shadow: 0 10px 30px rgba(17,34,68,.08);

  --radius-lg: 1.25rem;
  --radius-md: .75rem;
  --radius-sm: .5rem;

  --container: 1200px;
  --space-1:.25rem;
  --space-2:.5rem;
  --space-3:.75rem;
  --space-4:1rem;
  --space-5:1.25rem;
  --space-6:1.5rem;
  --space-7:2rem;
  --space-8:2.5rem;
  --space-9:3rem;
}

/* ================================
   Base & helpers (mobile-first)
================================ */
*,
*::before,
*::after{ box-sizing: border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
  color:var(--text);
  background:var(--bg);
  line-height:1.6;
}
img{ max-width:100%; display:block; }
a{ color:var(--brand-600); text-decoration:none; }
a:hover{ text-decoration:underline; }
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left:50%; transform:translateX(-50%);
  top:var(--space-4); width:auto; height:auto; padding:.5rem .75rem;
  background:var(--brand-600); color:#fff; border-radius:var(--radius-sm);
}
.layout-container{
  max-width:var(--container);
  margin-inline:auto;
  padding-inline: var(--space-5);
}

/* ================================
   Header / Nav (mobile-first)
================================ */
.site-header{
  --header-h: 72px; /* updated by JS at runtime */
  position: sticky; top: 0; z-index: 50;
  background: rgba(255,255,255,.85);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(226,232,240,.7);
  box-shadow: 0 2px 12px rgba(0,0,0,.03);
  transition: background .25s ease, border-color .25s ease, box-shadow .25s ease;
}
@supports not ((backdrop-filter: blur(10px))){
  .site-header{ background:#ffffff; }
}
.header-container{
  display:flex; align-items:center; justify-content:space-between;
  min-height:70px;
}
.brand{ display:flex; align-items:center; gap:var(--space-4); }
.brand__logo{ height:50px; width:auto; }
.brand__name{
  font-family: "Lora", serif;
  font-size:1.2rem; color:var(--brand-700);
}
.brand__tagline{ color:var(--muted); font-size:.9rem; }

/* ☰ hamburger (shown by default on mobile) */
.nav-toggle{
  font-size:1.75rem; line-height:1;
  background:none; border:none; color:var(--text);
  cursor:pointer; padding:var(--space-3);
  border-radius:10px;
}
.nav-toggle:hover{ background: var(--brand-50); }

/* Mobile nav panel */
.site-nav{
  position:absolute; inset:70px 0 auto 0; background:#fff;
  border-bottom:1px solid var(--border);
  transform: translateY(-120%); transition: transform .25s ease;
  will-change: transform; z-index:1000;
}
.site-nav.active{ transform: translateY(0); }

.site-nav__menu{
  list-style:none; margin:0; padding:0;
  display:flex; flex-direction:column; gap:0;
}
.site-nav__item{ border-top:1px solid var(--border); }
.site-nav__link{
  display:block; padding:1rem var(--space-5);
  font-weight:600; color:var(--text);
  border-bottom:2px solid transparent; border-radius:6px;
}
.site-nav__link:hover{ background:var(--brand-50); border-color:var(--brand-200); text-decoration:none; }
.site-nav__link.active{ border-color:var(--brand-500); color:var(--brand-700); }
.site-nav__link:focus-visible{ outline:3px solid var(--brand-200); outline-offset:2px; }
body.nav-open{ overflow:hidden; }

/* Desktop overrides */
@media (min-width: 769px){
  .nav-toggle{ display:none; }
  .site-nav{
    position: static; transform:none; border:0; background:transparent;
  }
  .site-nav__menu{
    flex-direction:row; gap:var(--space-6);
  }
  .site-nav__item{ border:0; }
  .site-nav__link{ padding:.5rem .25rem; display:inline-block; }
}

/* ================================
   Hero (mobile-first)
================================ */
.section--hero{
  position:relative; top:0; margin-top:0;
  min-height: 50vh;              /* mobile: smaller hero */
  display:grid; grid-template-areas: "stack";
  padding:0; overflow:hidden; border-bottom:none;
}
.hero-media{ grid-area:stack; position:relative; z-index:0; height:100%; width:100%; }
.hero-image{
  width:100%; height:100%; object-fit:cover; display:block;
  filter:saturate(1.05);
}
/* Overlay for legibility + soft vignette */
.section--hero::after{
  content:""; position:absolute; inset:0; z-index:1;
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(0,0,0,.55) 0%, rgba(0,0,0,.35) 35%, rgba(0,0,0,.45) 100%),
    linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.45));
}
/* Raised, centered content */
.hero__content{
  grid-area:stack; z-index:2;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; padding: clamp(1.25rem, 4vw, 3rem); color:#fff;
  transform: translateY(-17%); /* lift the content slightly */
}
.hero__title{
  font-family:"Lora", serif; color:#fff;
  text-shadow:0 2px 18px rgba(0,0,0,.35);
  font-size: clamp(1.6rem, 5vw, 3.25rem); margin:0 0 .25rem; letter-spacing:.3px;
}
.hero__subtitle{ color:rgba(255,255,255,.9); margin:.25rem 0 1rem; }
.hero__description{ color:rgba(255,255,255,.9); max-width:65ch; margin:0 auto 1.25rem; }

/* Make header transparent over hero */
.site-header {
  position: absolute; /* instead of sticky */
  top: 0;
  left: 0;
  width: 100%;
  z-index: 50;

  border-bottom: none;
  box-shadow: none;
}

/* Optional: dark text for light hero or light text for dark hero */
.site-nav__link,
.brand__name {
  color: #100f0f; /* white nav text for visibility */
}
.site-nav__link:hover {
  border-color: rgba(255,255,255,0.5);
}

/* Hero now fills the entire screen height */
.section--hero {
  position: relative;
  margin: 0;
  padding: 0;
  min-height: 100vh; /* Full viewport */
  display: grid;
  grid-template-areas: "stack";
}

/* Hero image covers everything */
.hero-media {
  grid-area: stack;
  position: relative;
  z-index: 0;
  height: 100%;
  width: 100%;
}
.hero-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Dark overlay for text legibility */
.section--hero::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1;
  background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.45));
}

/* Hero content centered */
.hero__content {
  grid-area: stack;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: clamp(1.5rem, 4vw, 3rem);
  color: #fff;
  transform: translateY(-40px); /* raises text up a bit */
}


.btn-primary, .cta--primary{
  display:inline-block; background:var(--brand-500); color:#fff; font-weight:700;
  padding:.85rem 1.2rem; border-radius:999px;
  box-shadow: 0 6px 20px rgba(63,128,255,.18), var(--shadow);
  border:1px solid rgba(255,255,255,.25);
  transition: transform .08s ease, box-shadow .2s ease, background .2s ease;
}
.btn-primary:hover{ background:var(--brand-600); transform: translateY(-2px); box-shadow:0 10px 28px rgba(63,128,255,.28); }
.btn-primary:focus-visible{ outline:3px solid rgba(63,128,255,.35); outline-offset:2px; }

/* Larger screens: a bit taller, but capped */
@media (min-width: 992px){
  .section--hero{
    min-height: 60vh;
    max-height: 700px;
  }
}

/* ================================
   Sections & Cards (mobile-first)
================================ */
.section{ padding: var(--space-9) 0; }
.section__title{
  font-size: clamp(1.2rem, 2.2vw, 1.6rem);
  margin:0 0 var(--space-5); color:var(--brand-800); letter-spacing:.2px;
}
.section__title--center{ text-align:center; margin-inline:auto; }

/* Cards wrapper */
.section--cards{ /* optional fill screen if needed */ }
.grid--cards{
  display:grid; gap: var(--space-4);
  grid-template-columns: 1fr;              /* mobile: 1 col */
  align-items:stretch; padding: var(--space-7) var(--space-5);
}
.grid--cards > .card{ height:100%; display:flex; flex-direction:column; }
.card{
  background: linear-gradient(180deg, #fff, var(--surface));
  border: 1px solid color-mix(in srgb, var(--border) 85%, var(--brand-300));
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  box-shadow: var(--shadow);
  transition: transform .15s ease, box-shadow .15s ease;
}
.card:hover{ transform: translateY(-2px); box-shadow: 0 10px 28px rgba(17,34,68,.12); }

/* scale up: 2 cols tablet, 3 cols desktop */
@media (min-width: 600px){
  .grid--cards{ grid-template-columns: repeat(2, minmax(0,1fr)); gap: var(--space-6); }
}
@media (min-width: 1024px){
  .grid--cards{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}

/* Lists inside cards */
.list{ margin:0; padding:0; list-style:none; }
.events-list__item{ padding:.85rem 0; border-bottom:1px dashed var(--border); }
.events-list__item:last-child{ border-bottom:0; }
.event__name{ color:var(--brand-700); }

/* Weather blocks */
.weather, .forecast{ display:flex; align-items:center; gap: var(--space-4); flex-wrap:wrap; }
.weather__icon{ width:70px; height:70px; }
.weather .reading{ display:flex; flex-direction:column; gap:.25rem; }
.reading__temp{ font-weight:800; font-size:1.75rem; color:var(--brand-800); }
.badge{
  border:1px solid color-mix(in srgb, var(--border) 80%, var(--brand-200));
  background:#fff; border-radius:999px; padding:.25rem .5rem;
  font-size:.825rem; color:var(--muted);
}

/* Forecast mini-cards inside the Forecast card */
.forecast-cards{
  display:grid; gap: var(--space-4);
  grid-template-columns: repeat(3, 1fr);
}
.forecast-card-item{
  background:#fff; border:1px solid var(--border); border-radius:var(--radius-md);
  padding: var(--space-4); text-align:center; box-shadow: var(--shadow);
}
.forecast-card-item .day{ font-weight:700; color:var(--brand-700); }

/* ================================
   Member Spotlights (mobile-first)
================================ */
.section--spotlights{
  background: linear-gradient(180deg, var(--brand-100), var(--brand-50));
  border-top: 1px solid var(--brand-200);
  border-bottom: 1px solid var(--brand-200);
  padding-block: var(--space-9);
}
.section--spotlights .layout-container{
  max-width: var(--container);
  margin: 0 auto;
  padding-inline: var(--space-5);
}
#spotlight-title.section__title{ text-align:center; margin-bottom: var(--space-7); }

.grid-spotlights{
  display:grid; gap: var(--space-4);
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}
@media (min-width: 900px){
  .grid-spotlights{ gap: var(--space-6); grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
}

.spotlight{
  display:flex; flex-direction:column;
  background:#fff;
  border: 1px solid color-mix(in srgb, var(--brand-200) 80%, var(--border));
  border-radius: var(--radius-lg);
  overflow:hidden;
  box-shadow: 0 4px 20px rgba(17,34,68,.06);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.spotlight:hover{
  transform: translateY(-3px);
  box-shadow: 0 12px 32px rgba(17,34,68,.14);
  border-color: var(--brand-300);
}
.spotlight__media{
  width:100%; aspect-ratio:16/9; object-fit:cover; display:block;
}
.spotlight__body{
  flex:1; display:flex; flex-direction:column; gap:.5rem;
  padding: var(--space-5);
}
.spotlight__tier{ font-size:.85rem; color:var(--muted); font-weight:500; }
.spotlight__name{ margin:.1rem 0; font-size:1.1rem; font-weight:700; color:var(--brand-800); }
.spotlight__cta{ margin-top:auto; align-self:flex-start; }

/* Small device container padding */
@media (min-width:480px){
  .section--spotlights .layout-container{ padding-inline: var(--space-5); }
}

/* ================================
   Footer
================================ */
.site-footer{
  background: linear-gradient(180deg, #fff, var(--brand-50));
  border-top:1px solid var(--border);
}
.site-footer .container{
  padding: var(--space-7) var(--space-5);
  text-align:center;
}
.footer__copy{ margin:.2rem 0; }
.footer__meta{ margin:.2rem 0; color:var(--muted); }

/* ================================
   Global Card Content Polish
================================ */
.card{
  gap: var(--space-4);
}
.card :where(h2, h3){
  margin: 0; color: var(--brand-800); line-height: 1.3;
}
.card :where(h2){
  font-size: clamp(1.1rem, 1.6vw, 1.35rem);
  font-weight: 800; letter-spacing: .2px;
}
.card :where(h3){
  font-size: 1.05rem; font-weight: 700; color: var(--brand-700);
}
.card :where(h2 + p, h3 + p){
  margin-top: .25rem; color: var(--muted); font-size: .95rem;
}
.card p{ margin:0; color:var(--text); font-size:.95rem; line-height:1.65; }
.card :where(ul, ol){ margin:.25rem 0 0 1.1rem; padding:0; }
.card li{ margin:.35rem 0; padding-left:.15rem; }
.card a:not(.btn-primary){ color:var(--brand-600); text-decoration:underline; text-underline-offset:2px; }
.card a:not(.btn-primary):hover{ color:var(--brand-700); }
.card :where(.btn-primary, .cta--primary){ align-self:flex-start; margin-top:auto; }
.card .group + .group{ border-top:1px dashed var(--border); padding-top:var(--space-4); }
.card .lead-icon{ font-size:2rem; line-height:1; margin-bottom:var(--space-3); color:var(--brand-500); }

/* ================================
   Motion accessibility
================================ */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; }
}

/* Visually-hidden utility for the live region */
.sr-only {
  position:absolute !important;
  height:1px; width:1px;
  overflow:hidden; clip:rect(1px,1px,1px,1px);
  white-space:nowrap; border:0; padding:0; margin:-1px;
}

/* No-results message */
.no-results{
  text-align:center;
  margin: 1.25rem 0 2rem;
  color: var(--muted);
  background: var(--brand-50);
  border: 1px dashed var(--brand-200);
  padding: .85rem 1rem;
  border-radius: var(--radius-md);
}

/* ==== Card container (beautiful chrome) ==== */
.business-card{
  display:flex; flex-direction:column; height:100%;
  background:#fff;
  border:1px solid color-mix(in srgb, var(--border) 85%, var(--brand-300));
  border-radius: var(--radius-lg);
  overflow:hidden;
  box-shadow: var(--shadow);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.business-card:hover{
  transform: translateY(-3px);
  box-shadow: 0 14px 34px rgba(17,34,68,.14);
  border-color: color-mix(in srgb, var(--brand-300) 40%, var(--border));
}

/* ==== Image frame (covers/crops beautifully) ==== */
.card__media{
  position:relative;
  aspect-ratio: 16 / 10;         /* consistent window for all images */
  overflow:hidden;
  background: var(--brand-50);
  border-bottom: 1px solid var(--border);
}
.card__img{
  width:100%; height:100%; object-fit:cover; display:block;
  transform: scale(1.02);
  transition: transform .35s ease, filter .35s ease;
  filter: saturate(1.02) contrast(1.02);
}
.business-card:hover .card__img{ transform: scale(1.06); }

/* Soft bottom scrim for text overlays (kept for future use) */
.card__media::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,0) 55%, rgba(0,0,0,.18) 100%);
  pointer-events:none;
}

/* ==== Member tier badge ==== */
.badge-tier{
  position:absolute; top:10px; left:10px;
  padding:.35rem .6rem;
  font-size:.8rem; font-weight:700;
  color:#112244;  /* readable over light badge bg */
  background:#fff;
  border:1px solid color-mix(in srgb, var(--brand-200) 60%, var(--border));
  border-radius:999px;
  box-shadow: 0 6px 18px rgba(17,34,68,.12);
}
.tier--platinum{ background: linear-gradient(180deg,#f7f8fb,#e8edf7); border-color:#d9e2f2; }
.tier--gold{     background: linear-gradient(180deg,#fff3bf,#ffe08a); border-color:#ffd166; }
.tier--silver{   background: linear-gradient(180deg,#f1f5f9,#e2e8f0); border-color:#d1d5db; }
.tier--bronze{   background: linear-gradient(180deg,#f8e7d6,#f3cfad); border-color:#eab98c; }

/* ==== Card body ==== */
.business-info{
  display:flex; flex-direction:column; gap:.45rem;
  padding: var(--space-6);
}
.business-info h3{
  margin:0; font-size:1.05rem; line-height:1.35; color:var(--brand-800);
}
.business-info p{ margin:0; color:var(--muted); font-size:.95rem; }
.business-info .btn-primary{
  margin-top:auto; /* CTA pins to bottom for equal-height cards */
  padding:.55rem .9rem; border-radius: var(--radius-md);
}

/* ==== Grid/List integration (uses your existing view toggles) ==== */
.directory-category-row.grid-view .business-card .card__media{ aspect-ratio: 16 / 10; }
.directory-category-row.list-view .business-card{
  display:grid; grid-template-columns: 220px 1fr; align-items:stretch; gap: var(--space-5);
}
@media (max-width: 720px){
  .directory-category-row.list-view .business-card{
    grid-template-columns: 1fr;
  }
}
.directory-category-row.list-view .card__media{
  aspect-ratio: 16 / 9; border:0; border-bottom:1px solid var(--border);
}

/* =========================
   Softer page & section bg
========================= */
body{
  /* subtle brand tint instead of flat white */
  background:
    linear-gradient(180deg, var(--brand-50), #fff 28%, var(--surface) 100%);
}

.directory-wrapper{
  /* give the directory area its own soft panel */
  background: linear-gradient(180deg, #fff, var(--surface));
  border: 1px solid color-mix(in srgb, var(--border) 85%, var(--brand-200));
  border-radius: var(--radius-lg);
  padding: var(--space-7) var(--space-5);
  box-shadow: var(--shadow);
  margin-top: var(--space-7);
}

/* Category headers pop against the softer bg */
.directory-category-title{
  background: linear-gradient(180deg, var(--brand-100), var(--brand-50));
  border: 1px solid var(--brand-200);
  color: var(--brand-800);
  padding: .75rem 1rem;
  border-radius: var(--radius-md);
  margin: var(--space-7) 0 var(--space-5);
}

/* Cards—slight tint instead of stark white */
.business-card{
  background: linear-gradient(180deg, #fff, var(--surface));
  border: 1px solid color-mix(in srgb, var(--border) 85%, var(--brand-300));
}

/* =========================
   Grid/List toggle styles
========================= */
.view-toggle{
  margin: var(--space-6) 0 var(--space-5);
}

.view-toggle-buttons{
  display: inline-flex;
  align-items: center;
  gap: 0;
  border: 1px solid var(--brand-200);
  background: #fff;
  border-radius: 999px;
  padding: .25rem;
  box-shadow: var(--shadow);
}

/* base button look */
.view-toggle-buttons button{
  appearance: none;
  border: 0;
  background: transparent;
  color: var(--brand-700);
  padding: .55rem 1rem;
  font-weight: 700;
  border-radius: 999px;
  cursor: pointer;
  transition: background .2s ease, color .2s ease, transform .05s ease;
}

/* icons using text, no extra markup needed */
#gridBtn::before{ content: "▦ "; font-weight: 900; }
#listBtn::before{ content: "≣ "; font-weight: 900; }

.view-toggle-buttons button:hover{
  background: var(--brand-50);
}

.view-toggle-buttons button:active{
  transform: translateY(1px);
}

/* active (aria-pressed=true) state */
.view-toggle-buttons button[aria-pressed="true"]{
  background: var(--brand-500);
  color: #fff;
  box-shadow: 0 6px 18px rgba(63,128,255,.28);
}

/* keyboard focus */
.view-toggle-buttons button:focus-visible{
  outline: 3px solid var(--brand-200);
  outline-offset: 3px;
  border-radius: 999px;
}

/* =========================
   3-up grid (responsive)
========================= */
.directory-category-row{
  display: grid;
  gap: var(--space-6);
}

/* GRID: 3/2/1 columns */
.directory-category-row.grid-view{
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
@media (max-width: 1024px){
  .directory-category-row.grid-view{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (max-width: 640px){
  .directory-category-row.grid-view{
    grid-template-columns: 1fr;
  }
}

/* LIST: single column, media left */
.directory-category-row.list-view{
  grid-template-columns: 1fr;
}
.directory-category-row.list-view .business-card{
  display:grid;
  grid-template-columns: 220px 1fr;
  align-items: stretch;
  gap: var(--space-5);
  padding: var(--space-5);
}
@media (max-width: 720px){
  .directory-category-row.list-view .business-card{
    grid-template-columns: 1fr; /* stack on small screens */
  }
}

/* media sizing per view */
.directory-category-row.grid-view .card__media{ aspect-ratio: 16/10; }
.directory-category-row.list-view .card__media{ aspect-ratio: 16/9; }

/* nicer images in list mode */
.directory-category-row.list-view .card__img{
  border-radius: var(--radius-md);
}
/* ===== Centered controls wrapper ===== */
.directory-controls{
  display:flex;
  flex-direction:column;
  align-items:center;         /* center everything horizontally */
  gap: clamp(1rem, 2vw, 1.5rem);
  margin: var(--space-7) auto var(--space-6);
}

/* ===== Toggle (centered pill) ===== */
.view-toggle{ width:100%; display:flex; justify-content:center; }
.view-toggle-buttons{
  display:inline-flex; align-items:center; gap:0;
  border:1px solid var(--brand-200);
  background:#fff;
  border-radius:999px;
  padding:.25rem;
  box-shadow: var(--shadow);
}
.view-toggle-buttons button{
  appearance:none; border:0; background:transparent;
  color:var(--brand-700);
  padding:.6rem 1rem;
  font-weight:700; border-radius:999px; cursor:pointer;
  transition: background .2s ease, color .2s ease, transform .05s ease;
}
#gridBtn::before{ content:"▦ "; font-weight:900; }
#listBtn::before{ content:"≣ "; font-weight:900; }
.view-toggle-buttons button:hover{ background:var(--brand-50); }
.view-toggle-buttons button[aria-pressed="true"]{
  background:var(--brand-500); color:#fff;
  box-shadow:0 6px 18px rgba(63,128,255,.28);
}

/* ===== Search card (centered content) ===== */
.directory-search{
  width:100%;
  max-width: 880px;                   /* keeps the block nicely narrow */
  text-align:center;                  /* center text */
  background: linear-gradient(180deg, #fff, var(--surface));
  border:1px solid color-mix(in srgb, var(--border) 85%, var(--brand-200));
  border-radius: var(--radius-lg);
  padding: clamp(1rem, 3vw, 2rem);
  box-shadow: var(--shadow);
}
.directory-search .section__title{
  margin: 0 0 .75rem;
  color: var(--brand-800);
  font-size: clamp(1.2rem, 2.2vw, 1.6rem);
}

/* Centered input */
.search-input{
  width:100%;
  max-width: 720px;                   /* centered field width */
  margin-inline:auto;
  padding:.9rem 1rem;
  font-size:1rem;
  border:1.5px solid var(--border);
  border-radius: var(--radius-md);
  box-shadow: inset 0 1px 0 rgba(17,34,68,.03);
}

/* ===== Popular Categories (centered chips) ===== */
.categories{ margin-top: .9rem; }
.categories__label{
  display:block; margin-bottom:.5rem;
  color: var(--muted);
}
.categories__chips{
  display:flex; flex-wrap:wrap; justify-content:center; /* center chips */
  gap:.6rem; list-style:none; padding:0; margin:0;
}
.categories__chips a{
  display:inline-block;
  padding:.45rem .8rem;
  background: var(--brand-500);
  color:#fff; border-radius:999px;
  font-size:.9rem; text-decoration:none; font-weight:600;
  border:1px solid rgba(255,255,255,.25);
  transition: transform .05s ease, background .2s ease;
}
.categories__chips a:hover{ background: var(--brand-600); }
.categories__chips a:active{ transform: translateY(1px); }

/* ===== Softer page bg so the centered card pops ===== */
body{
  background: linear-gradient(180deg, var(--brand-50), #fff 28%, var(--surface) 100%);
}
.no-results{
  text-align:center;
  margin: 1rem 0 2rem;
  color: var(--muted);
  background: var(--brand-50);
  border: 1px dashed var(--brand-200);
  padding: .85rem 1rem;
  border-radius: var(--radius-md);
}
/* ===== Prevent horizontal overflow anywhere ===== */
html, body { overflow-x: hidden; }

/* ===== Strong, safe container for directory ===== */
.directory-content.layout-container{
  max-width: var(--container);
  margin-inline: auto;
  padding-inline: var(--space-5);
}

/* If something inside tries to be wider than screen, clamp it */
.directory-content { contain: layout paint; }

/* ===== Grid (3/2/1) with safe columns ===== */
.directory-category-row{
  display: grid;
  gap: var(--space-6);
}
.directory-category-row.grid-view{
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
@media (max-width: 1024px){
  .directory-category-row.grid-view{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (max-width: 640px){
  .directory-category-row.grid-view{
    grid-template-columns: 1fr;
  }
}

/* ===== Cards: avoid overflow from long text ===== */
.business-card{
  min-width: 0;                 /* allow to shrink inside grid */
  word-wrap: break-word;
  overflow: hidden;             /* clip any accidental overflow */
}

/* ===== Card media (grid view) ===== */
.directory-category-row.grid-view .card__media{
  aspect-ratio: 16 / 10;
}

/* ===== List view layout: image left, content right ===== */
.directory-category-row.list-view{
  grid-template-columns: 1fr;   /* one card per row */
}
/* Two-column card with fixed media width */
.directory-category-row.list-view .business-card{
  display: grid;
  grid-template-columns: 240px 1fr;
  align-items: start;
  gap: var(--space-5);
  padding: var(--space-5);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  background: linear-gradient(180deg, #fff, var(--surface));
  box-shadow: var(--shadow);
}
@media (max-width: 800px){
  .directory-category-row.list-view .business-card{
    grid-template-columns: 200px 1fr;
  }
}
@media (max-width: 640px){
  .directory-category-row.list-view .business-card{
    grid-template-columns: 1fr;   /* stack on phones */
  }
}

/* Media in list view: fixed height so it never overwhelms text */
.directory-category-row.list-view .card__media{
  height: 160px;
  aspect-ratio: auto;
  border: 0;
  border-radius: var(--radius-md);
  overflow: hidden;
}
@media (max-width: 640px){
  .directory-category-row.list-view .card__media{
    height: 180px;                /* a bit taller when stacked */
  }
}

/* Image fits its frame properly */
.card__img{
  width: 100%;
  height: 100%;
  object-fit: cover;             /* fills without distortion */
  display: block;
}

/* Make sure the text column can shrink nicely */
.directory-category-row.list-view .business-info{
  min-width: 0;
}

/* Tidy headings in list mode */
.directory-category-row.list-view .business-info h3{
  margin-top: 0;
}

/* ===== Filters bar ===== */
.directory-filters{
  margin: var(--space-6) auto var(--space-2);
}
.filters-row{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 320px));
  gap: var(--space-4);
  justify-content: center;       /* center the pair */
}
@media (max-width: 560px){
  .filters-row{ grid-template-columns: 1fr; }
}
.filter-group{
  display: grid; gap: .35rem;
}
.filter-group label{
  font-weight: 700; color: var(--brand-800);
}
.filter-group select{
  appearance: none;
  padding: .7rem .9rem;
  border: 1.5px solid var(--border);
  border-radius: var(--radius-md);
  background: #fff;
  font-size: .95rem;
}

/* ===== Toggle buttons (keep them centered) ===== */
.view-toggle{ display:flex; justify-content:center; }
.view-toggle-buttons{
  display:inline-flex; align-items:center;
  border:1px solid var(--brand-200);
  background:#fff; padding:.25rem; border-radius:999px;
  box-shadow: var(--shadow);
}
.view-toggle-buttons button{
  appearance:none; border:0; background:transparent;
  padding:.6rem 1rem; border-radius:999px; font-weight:700;
  color:var(--brand-700); cursor:pointer;
}
.view-toggle-buttons button[aria-pressed="true"]{
  background:var(--brand-500); color:#fff;
}
#gridBtn::before{ content:"▦ "; font-weight:900; }
#listBtn::before{ content:"≣ "; font-weight:900; }

.site-header {
  z-index: 1000;
}

/* Mobile nav styling */
@media (max-width: 768px){
  .site-nav {
    position: fixed;
    top: var(--header-h, 70px);
    left: 0; right: 0;
    background: #fff;
    max-height: calc(100vh - var(--header-h, 70px));
    overflow-y: auto;
    border-bottom: 1px solid #ccc;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translateY(-8px);
    transition: opacity .2s ease, transform .2s ease, visibility .2s step-end;
  }
  .site-nav.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateY(0);
    transition: opacity .2s ease, transform .2s ease, visibility 0s;
  }
  .site-nav__menu {
    flex-direction: column;
    padding: 0;
    margin: 0;
  }
  .site-nav__item {
    border-top: 1px solid #ccc;
  }
  .site-nav__link {
    padding: 1rem;
    display: block;
  }
}

/* Backdrop */
#navBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity .2s ease, visibility .2s step-end;
  z-index: 999;
}
#navBackdrop.show {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transition: opacity .2s ease, visibility 0s;
}

/* Lock scroll */
body.nav-open {
  overflow: hidden;
  touch-action: none;
}
